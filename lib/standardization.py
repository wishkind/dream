"""
格式化城市区域
"""
from pymongo import MongoClient
from lib.log import LogHandler

import time
# from log import LogHandler

log = LogHandler(__name__)


class StandardCityError(Exception):
    def __init__(self, error_info):
        super().__init__(self)  # 初始化父类
        self.error_info = error_info

    def __str__(self):
        return self.error_info


class StandardCity:
    def __init__(self):
        mongo = MongoClient(host='192.168.0.136', port=27017)
        self.region_coll = mongo['fangjia']['region_block']
        self.city_coll = mongo['fangjia']['server_area']

        self.city_dict = {'申城': '上海',
                          '魔都': '上海',
                          '沪上': '上海',
                          '大上海': '上海',
                          '上海滩': '上海',
                          '东方巴黎': '上海',
                          '上海市': '上海',
                          '燕京': '北京',
                          '蓟城': '北京',
                          '涿郡': '北京',
                          '幽州': '北京',
                          '北平': '北京',
                          '帝都': '北京',
                          '北京市': '北京',
                          '花城': '广州',
                          '羊城': '广州',
                          '五羊城': '广州',
                          '广州市': '广州',
                          '临安': '杭州',
                          '钱塘': '杭州',
                          '武林': '杭州',
                          '杭城': '杭州',
                          '杭州市': '杭州',
                          '深圳市': '深圳',
                          '广陵': '扬州',
                          '江都': '扬州',
                          '维扬': '扬州',
                          '扬州市': '扬州',
                          '金陵': '南京',
                          '建康': '南京',
                          '江宁': '南京',
                          '石头城': '南京',
                          '天京': '南京',
                          '应天': '南京',
                          '博爱之都': '南京',
                          '虎踞龙蟠': '南京',
                          '南京市': '南京',
                          '津沽': '天津',
                          '津门': '天津',
                          '天津市': '天津',
                          '蓉城': '成都',
                          '锦城': '成都',
                          '芙蓉城': '成都',
                          '锦官城': '成都',
                          '天府之国': '成都',
                          '成都市': '成都',
                          '西京': '西安',
                          '长安': '西安',
                          '镐京': '西安',
                          '大兴': '西安',
                          '西安市': '西安',
                          '盛京': '沈阳',
                          '奉天': '沈阳',
                          '沈阳市': '沈阳',
                          '巴渝': '重庆',
                          '渝都': '重庆',
                          '雾都': '重庆',
                          '桥都': '重庆',
                          '重庆市': '重庆',
                          '苏州市': '苏州',
                          '江城': '武汉',
                          '大武汉': '武汉',
                          '九省通衢': '武汉',
                          '武汉市': '武汉',
                          '星城': '长沙',
                          '潭州': '长沙',
                          '长沙市': '长沙',
                          '石门': '石家庄',
                          '石家庄市': '石家庄',
                          '岛城': '青岛',
                          '琴岛': '青岛',
                          '胶澳': '青岛',
                          '青岛市': '青岛',
                          '榕城': '福州',
                          '三山': '福州',
                          '东越': '福州',
                          '左海': '福州',
                          '冶城': '福州',
                          '福州市': '福州',
                          '泉城': '济南',
                          '齐州': '济南',
                          '济南市': '济南',
                          '鹭岛': '厦门',
                          '新城': '厦门',
                          '禾岛': '厦门',
                          '嘉禾里': '厦门',
                          '嘉禾屿': '厦门',
                          '中左所': '厦门',
                          '厦门城': '厦门',
                          '思明州': '厦门',
                          '厦门市': '厦门',
                          '甬城': '宁波',
                          '甬上': '宁波',
                          '宁波市': '宁波',
                          '滨城': '大连',
                          '达里尼': '大连',
                          '青泥洼': '大连',
                          '北方明珠': '大连',
                          '浪漫之都': '大连',
                          '足球城': '大连',
                          '大连市': '大连',
                          '金匮': '无锡',
                          '梁溪': '无锡',
                          '锡城': '无锡',
                          '无锡市': '无锡',
                          '崖州': '三亚',
                          '崖县': '三亚',
                          '鹿城': '三亚',
                          '三亚市': '三亚',
                          '并州': '太原',
                          '晋阳': '太原',
                          '龙城': '太原',
                          '太原市': '太原',
                          '东瓯': '温州',
                          '斗城': '温州',
                          '白鹿城': '温州',
                          '温州市': '温州',
                          '季华乡': '佛山',
                          '禅城': '佛山',
                          '佛山市': '佛山',
                          '商都': '郑州',
                          '郑州市': '郑州',
                          '北方瓷都': '唐山',
                          '唐山市': '唐山',
                          '香山': '中山',
                          '中山市': '中山',
                          '威海卫': '威海',
                          '威海市': '威海',
                          '莞城': '东莞',
                          '香市': '东莞',
                          '东莞市': '东莞',
                          '庐州': '合肥',
                          '庐阳': '合肥',
                          '合州': '合肥',
                          '霸都': '合肥',
                          '合肥市': '合肥',
                          '筑城': '贵阳',
                          '林城': '贵阳',
                          '贵阳市': '贵阳',
                          '春城': '昆明',
                          '昆明市': '昆明',
                          '银川市': '银川',
                          '呼市': '呼和浩特',
                          '归绥': '呼和浩特',
                          '青城': '呼和浩特',
                          '云中': '呼和浩特',
                          '中国乳都': '呼和浩特',
                          '呼和浩特市': '呼和浩特',
                          '洪城': '南昌',
                          '洪都': '南昌',
                          '豫章': '南昌',
                          '龙兴路': '南昌',
                          '英雄城': '南昌',
                          '南都': '南昌',
                          '洪州': '南昌',
                          '隆兴府': '南昌',
                          '南昌市': '南昌',
                          '广州湾': '湛江',
                          '白瓦特城': '湛江',
                          '湛江市': '湛江',
                          '天下第一帝都': '咸阳',
                          '咸阳市': '咸阳',
                          '延陵': '常州',
                          '毗陵': '常州',
                          '武进': '常州',
                          '中吴': '常州',
                          '常州市': '常州',
                          '嘉兴市': '嘉兴',
                          '嘉禾': '嘉兴',
                          '禾城': '嘉兴',
                          '长水': '嘉兴',
                          '由拳': '嘉兴',
                          '禾兴': '嘉兴',
                          '秀州': '嘉兴',
                          '彭城': '徐州',
                          '涿鹿': '徐州',
                          '天府之州': '徐州',
                          '淮海之都': '徐州',
                          '西楚故都': '徐州',
                          '东方雅典': '徐州',
                          '徐州市': '徐州',
                          '椰城': '海口',
                          '海口市': '海口',
                          '珠海市': '珠海',
                          '百岛之市': '珠海',
                          '浪漫之城': '珠海',
                          '冰城': '哈尔滨',
                          '东方莫斯科': '哈尔滨',
                          '东方小巴黎': '哈尔滨',
                          '哈尔滨市': '哈尔滨',
                          '北国春城': '长春',
                          '茶啊冲': '长春',
                          '喜都': '长春',
                          '新京都': '长春',
                          '长春市': '长春',
                          '北国江城': '吉林',
                          '吉林市': '吉林',
                          '登州': '烟台',
                          '东莱': '烟台',
                          '烟台市': '烟台',
                          '朱方': '镇江',
                          '丹徒': '镇江',
                          '京口': '镇江',
                          '润州': '镇江',
                          '南徐州': '镇江',
                          '镇江市': '镇江',
                          '蕪湖': '芜湖',
                          '鸠兹': '芜湖',
                          '欢乐之都': '芜湖',
                          '芜湖市': '芜湖',
                          '雒阳': '洛阳',
                          '斟鄩': '洛阳',
                          '洛邑': '洛阳',
                          '洛州': '洛阳',
                          '京洛': '洛阳',
                          '东洛': '洛阳',
                          '司隶': '洛阳',
                          '三川': '洛阳',
                          '河南府': '洛阳',
                          '洛阳市': '洛阳',
                          '南宁市': '南宁',
                          '邕城': '南宁',
                          '五象城': '南宁',
                          '惠民之州': '惠州',
                          '惠州市': '惠州',
                          '八桂': '桂林',
                          '桂林市': '桂林',
                          '世界风筝之都': '潍坊',
                          '鸢都': '潍坊',
                          '潍坊市': '潍坊',
                          '磁州': '邯郸',
                          '洺州': '邯郸',
                          '大名府': '邯郸',
                          '广平府': '邯郸',
                          '邯郸市': '邯郸',
                          '京津走廊上的明珠': '廊坊',
                          '廊坊市': '廊坊',
                          '静海': '南通',
                          '崇州': '南通',
                          '紫琅': '南通',
                          '北上海': '南通',
                          '南通市': '南通',
                          '绍兴市': '绍兴',
                          '会稽': '绍兴',
                          '山阴': '绍兴',
                          '越州': '绍兴',
                          '夏都': '西宁',
                          '西宁市': '西宁',
                          '江州': '兰州',
                          '兰州市': '兰州',
                          '襄阳市': '襄阳',
                          '襄州': '襄阳',
                          '襄樊': '襄阳',
                          '涪城': '绵阳',
                          '绵州': '绵阳',
                          '绵阳市': '绵阳',
                          '建宁': '株洲',
                          '槠洲': '株洲',
                          '株洲市': '株洲',
                          '潭城': '湘潭',
                          '湘潭市': '湘潭',
                          '酒都': '宜宾',
                          '叙府/戎州': '宜宾',
                          '宜宾市': '宜宾',
                          '千年盐都': '自贡',
                          '南国灯城': '自贡',
                          '恐龙之乡': '自贡',
                          '美食之府': '自贡',
                          '自贡市': '自贡',
                          '海陵': '泰州',
                          '海阳': '泰州',
                          '祥泰之州': '泰州',
                          '泰州市': '泰州',
                          '海州': '台州',
                          '台州市': '台州',
                          '珠三角后花园': '清远',
                          '清远市': '清远',
                          '保府': '保定',
                          '保州': '保定',
                          '靴城': '保定',
                          '上谷': '保定',
                          '保定市': '保定',
                          '中国夏都': '秦皇岛',
                          '京津后花园': '秦皇岛',
                          '长城滨海公园': '秦皇岛',
                          '渤海明珠城': '秦皇岛',
                          '秦皇岛市': '秦皇岛',
                          '霅溪': '湖州',
                          '菰城': '湖州',
                          '乌程': '湖州',
                          '吴兴': '湖州',
                          '湖州市': '湖州',
                          '湖城': '湖州',
                          '柯城': '衢州',
                          '衢州市': '衢州',
                          '下相': '宿迁',
                          '宿豫': '宿迁',
                          '宿迁市': '宿迁',
                          '婺州': '金华',
                          '金华市': '金华',
                          '大圣故里': '连云港',
                          '山海之城海州': '连云港',
                          '郁洲': '连云港',
                          '港城': '连云港',
                          '连云港市': '连云港',
                          '太平': '马鞍山',
                          '诗城': '马鞍山',
                          '马鞍山市': '马鞍山',
                          '乌市': '乌鲁木齐',
                          '乌鲁木齐市': '乌鲁木齐',
                          '渡口': '攀枝花',
                          '中国钒钛之都': '攀枝花',
                          '攀枝花市': '攀枝花',
                          '四邑': '江门',
                          '五邑': '江门',
                          '江门市': '江门',
                          '钢都': '鞍山',
                          '鞍山市': '鞍山',
                          '齐国故都': '淄博',
                          '淄博市': '淄博',
                          '盐渎': '盐城',
                          '瓢城': '盐城',
                          '登瀛': '盐城',
                          '百河之城': '盐城',
                          '盐城市': '盐城',
                          '夷陵': '宜昌',
                          '世界水电之都': '宜昌',
                          '宜昌市': '宜昌',
                          '肤施': '延安',
                          '高奴': '延安',
                          '延州': '延安',
                          '延安市': '延安',
                          '虔城': '赣州',
                          '赣州市': '赣州',
                          '北海市': '北海',
                          '柳州市': '柳州',
                          '壶城': '柳州',
                          '奇石城': '柳州',
                          '百湖之城': '大庆',
                          '大庆市': '大庆',
                          '鲤城': '泉州',
                          '刺桐城': '泉州',
                          '温陵': '泉州',
                          '泉州市': '泉州',
                          '浔阳': '九江',
                          '九江市': '九江',
                          '巩本知': '丽江',
                          '丽江市': '丽江',
                          '大理白族自治州': '大理',
                          '大理市': '大理',
                          '大庸': '张家界',
                          '张家界市': '张家界',
                          '中国凉都': '六盘水',
                          '六盘水市': '六盘水',
                          '荔城': '莆田',
                          '兴化': '莆田',
                          '兴安': '莆田',
                          '莆仙': '莆田',
                          '莆田市': '莆田',
                          '莆阳': '莆田',
                          '东北苏杭': '丹东',
                          '北方江南': '丹东',
                          '红色东方之城': '丹东',
                          '丹东市': '丹东',
                          '郁林': '玉林',
                          '玉林市': '玉林',
                          '鮀城': '汕头',
                          '鮀岛': '汕头',
                          '汕头市': '汕头',
                          '端州': '肇庆',
                          '肇庆市': '肇庆',
                          '殷都': '安阳',
                          '相州': '安阳',
                          '彰德': '安阳',
                          '安阳市': '安阳',
                          '珠江源第一市': '曲靖',
                          '曲靖市': '曲靖',
                          '雁城': '衡阳',
                          '衡州': '衡阳',
                          '衡阳市': '衡阳',
                          '新乡市': '新乡',
                          '牧野': '新乡',
                          '关外上海': '营口',
                          '牛庄': '营口',
                          '没沟营': '营口',
                          '营口市': '营口',
                          '潮州市': '潮州',
                          '槎城': '河源',
                          '河源市': '河源',
                          '黄石市': '黄石',
                          '怀庆府': '焦作',
                          '山阳城': '焦作',
                          '焦作市': '焦作',
                          '亚洲玉都': '揭阳',
                          '揭阳市': '揭阳',
                          '南方油城': '茂名',
                          '茂名市': '茂名',
                          '中国雪城': '牡丹江',
                          '牡丹江市': '牡丹江',
                          '鹤乡': '盘锦',
                          '湿地之都': '盘锦',
                          '盘锦市': '盘锦',
                          '鹰城': '平顶山',
                          '平顶山市': '平顶山',
                          '韶州': '韶关',
                          '桥城': '韶关',
                          '韶城': '韶关',
                          '韶关市': '韶关',
                          '阳江城': '阳江',
                          '鼍城': '阳江',
                          '阳江市': '阳江',
                          '嘉应府': '梅州',
                          '嘉应州': '梅州',
                          '循州': '梅州',
                          '敬州': '梅州',
                          '齐昌府': '梅州',
                          '梅州市': '梅州',
                          '石城': '云浮',
                          '石都': '云浮',
                          '硫都': '云浮',
                          '云浮市': '云浮',
                          '本溪湖': '本溪',
                          '本溪市': '本溪',
                          '玉溪市': '玉溪',
                          '瀛洲': '舟山',
                          '翁洲': '舟山',
                          '昌国': '舟山',
                          '舟山市': '舟山',
                          '红色圣地·醉美遵义': '遵义',
                          '红色圣地': '遵义',
                          '遵义市': '遵义',
                          '岳州': '岳阳',
                          '巴陵': '岳阳',
                          '巴州': '岳阳',
                          '岳阳市': '岳阳',
                          '中卫市': '中卫',
                          '莲城': '许昌',
                          '许都': '许昌',
                          '魏都': '许昌',
                          '汉魏故都': '许昌',
                          '许昌市': '许昌',
                          '雍州': '武威',
                          '姑臧': '武威',
                          '凉州': '武威',
                          '侠都': '武威',
                          '武威市': '武威',
                          '凉都': '武威',
                          '雍都': '武威',
                          '小品之乡': '铁岭',
                          '煤电能源之城': '铁岭',
                          '大铁岭': '铁岭',
                          '铁岭市': '铁岭',
                          '辽北': '铁岭',
                          '齐齐哈尔市': '齐齐哈尔',
                          '卜奎': '齐齐哈尔',
                          '龙城天水': '天水',
                          '羲皇故里': '天水',
                          '天水市': '天水',
                          '国泰民安': '泰安',
                          '天下泰山': '泰安',
                          '泰安市': '泰安',
                          '四平街': '四平',
                          '东方马德里': '四平',
                          '四平市': '四平',
                          '鄂东明珠': '黄冈',
                          '水岸都市': '黄冈',
                          '黄冈市': '黄冈',
                          '州来': '淮南',
                          '寿春': '淮南',
                          '下蔡': '淮南',
                          '淮南市': '淮南',
                          '清江浦': '淮安',
                          '淮阴': '淮安',
                          '淮安市': '淮安',
                          '广元市': '广元',
                          '女皇故里': '广元',
                          '川北门户': '广元',
                          '利州': '广元',
                          '巴蜀金三角': '广元',
                          '汝阴': '阜阳',
                          '颍州': '阜阳',
                          '顺昌': '阜阳',
                          '阜阳市': '阜阳',
                          '中国马铃薯之乡': '定西',
                          '陇中': '定西',
                          '定西市': '定西',
                          '昭乌达盟': '赤峰',
                          '哈达街': '赤峰',
                          '乌兰哈达': '赤峰',
                          '赤峰市': '赤峰',
                          '草原钢城': '包头',
                          '稀土之都': '包头',
                          '包头市': '包头',
                          '东北小上海': '辽源',
                          '辽源市': '辽源',
                          '处州': '丽水',
                          '括州': '丽水',
                          '括苍': '丽水',
                          '莲都': '丽水',
                          '丽水市': '丽水',
                          '嘉州': '乐山',
                          '乐山市': '乐山',
                          '曹州': '菏泽',
                          '济阴': '菏泽',
                          '菏泽市': '菏泽',
                          '锦绣之州': '锦州',
                          '锦州市': '锦州',
                          '褒国': '汉中',
                          '梁州': '汉中',
                          '天汉': '汉中',
                          '兴元府': '汉中',
                          '南郑': '汉中',
                          '汉中市': '汉中',
                          '柳城': '常德',
                          '常德市': '常德',
                          '佳市': '佳木斯',
                          '华夏东极': '佳木斯',
                          '东方第一城': '佳木斯',
                          '佳木斯市': '佳木斯',
                          '黄山市': '黄山',
                          '浑江': '白山',
                          '白山市': '白山',
                          '安顺市': '安顺',
                          '金州': '安康',
                          '金城': '安康',
                          '安康市': '安康',
                          '北团林子': '绥化',
                          '绥化市': '绥化',
                          '安州': '钦州',
                          '钦州市': '钦州',
                          '帝乡': '南阳',
                          '玉都': '南阳',
                          '药都': '南阳',
                          '曲艺之乡': '南阳',
                          '南阳市': '南阳',
                          '琅琊': '临沂',
                          '沂州': '临沂',
                          '临沂市': '临沂',
                          '临汾市': '临汾',
                          '平阳': '临汾',
                          '卧牛城': '临汾',
                          '花果城': '临汾',
                          '驼城': '榆林',
                          '小北京': '榆林',
                          '塞上明珠': '榆林',
                          '上郡': '榆林',
                          '榆林市': '榆林',
                          '伊克昭盟': '鄂尔多斯',
                          '伊盟': '鄂尔多斯',
                          '鄂尔多斯市': '鄂尔多斯',
                          '绿城水都': '梧州',
                          '梧州市': '梧州',
                          '百色市': '百色',
                          '石墨之都': '鸡西',
                          '鸡西市': '鸡西',
                          '七台河市': '七台河',
                          '查干浩特': '白城',
                          '白城市': '白城',
                          '三燕古都': '朝阳',
                          '朝阳市': '朝阳',
                          '沧州市': '沧州',
                          '东方湿地之城': '东营',
                          '黄河水城': '东营',
                          '东营市': '东营',
                          '德州市': '德州',
                          '得克萨斯州': '德州',
                          '孤星之州': '德州',
                          '焦邑': '亳州',
                          '亳州市': '亳州',
                          '舒州': '安庆',
                          '宜城': '安庆',
                          '黄梅戏乡': '安庆',
                          '安庆市': '安庆',
                          '皋城': '六安',
                          '皖西': '六安',
                          '六安州': '六安',
                          '六安市': '六安',
                          '闽东': '宁德',
                          '蕉城': '宁德',
                          '宁德市': '宁德',
                          '三沙市': '三沙',
                          '滇红之乡': '临沧',
                          '世界佤乡·天下茶仓': '临沧',
                          '临沧市': '临沧',
                          '日光城': '拉萨',
                          '拉萨市': '拉萨',
                          '绸都': '南充',
                          '果城': '南充',
                          '果州': '南充',
                          '南充市': '南充',
                          '酒城': '泸州',
                          '小山城': '泸州',
                          '泸州市': '泸州',
                          '西部车城': '资阳',
                          '资阳市': '资阳',
                          '狮城': '乌海',
                          '乌海市': '乌海',
                          '宝庆': '邵阳',
                          '邵阳市': '邵阳',
                          '克拉玛依市': '克拉玛依',
                          '巴盟': '巴彦淖尔',
                          '巴市': '巴彦淖尔',
                          '巴彦淖尔市': '巴彦淖尔',
                          '荆门市': '荆门',
                          '荆楚门户': '荆门',
                          '世界瑶都': '来宾',
                          '来宾市': '来宾',
                          '东京': '开封',
                          '汴梁': '开封',
                          '汴州': '开封',
                          '汴京': '开封',
                          '祥符': '开封',
                          '老丘': '开封',
                          '启封': '开封',
                          '大梁': '开封',
                          '开封市': '开封',
                          '申州': '信阳',
                          '信阳市': '信阳',
                          '西海固': '固原',
                          '固原市': '固原',
                          '汝宁': '驻马店',
                          '蔡州': '驻马店',
                          '天中': '驻马店',
                          '驻马店市': '驻马店',
                          '防城港市': '防城港',
                          '马邑': '朔州',
                          '朔州市': '朔州',
                          '同官': '铜川',
                          '铜川市': '铜川',
                          '呼伦贝尔市': '呼伦贝尔',
                          '双鸭山市': '双鸭山',
                          '平凉市': '平凉',
                          '崇左市': '崇左',
                          '铜城': '白银',
                          '白银市': '白银',
                          '金城江': '河池',
                          '河池市': '河池',
                          '吉安市': '吉安',
                          '庐陵': '吉安',
                          '吉州': '吉安',
                          '北国山城': '通化',
                          '通化市': '通化',
                          '瓷都': '景德镇',
                          '景德镇市': '景德镇',
                          '三金之城': '鹤岗',
                          '中国鹿城': '鹤岗',
                          '煤城': '鹤岗',
                          '鹤岗市': '鹤岗',
                          '海东市': '海东',
                          '中俄双子城': '黑河',
                          '瑷珲': '黑河',
                          '黑龙江城': '黑河',
                          '黑河市': '黑河',
                          '阜新市': '阜新',
                          '抚顺市': '抚顺',
                          '煤都': '抚顺',
                          '筝岛': '葫芦岛',
                          '北方海上传奇': '葫芦岛',
                          '葫芦岛市': '葫芦岛',
                          '张家口市': '张家口',
                          '长城博物馆': '张家口',
                          '塞外明珠': '张家口',
                          '塞外山城': '张家口',
                          '张垣': '张家口',
                          '武城': '张家口',
                          '北方湖城': '衡水',
                          '桃城': '衡水',
                          '衡水市': '衡水',
                          '邢襄': '邢台',
                          '牛城': '邢台',
                          '邢台市': '邢台',
                          '石嘴山市': '石嘴山',
                          '运河之都': '济宁',
                          '孔孟之乡': '济宁',
                          '济宁市': '济宁',
                          '东方太阳城': '日照',
                          '水上运动之都': '日照',
                          '日照市': '日照',
                          '江北水城': '聊城',
                          '运河古都': '聊城',
                          '凤凰城': '聊城',
                          '聊城市': '聊城',
                          '滨州市': '滨州',
                          '相城': '淮北',
                          '运河名城': '淮北',
                          '精致淮北': '淮北',
                          '皖北经济重镇': '淮北',
                          '淮北市': '淮北',
                          '爰陵': '宣城',
                          '宛陵': '宣城',
                          '宣州': '宣城',
                          '宣城市': '宣城',
                          '三明市': '三明',
                          '绿都': '三明',
                          '中国绿色之都': '三明',
                          '淮南第一州': '宿州',
                          '蕲城': '宿州',
                          '宿城': '宿州',
                          '宿州市': '宿州',
                          '云都': '宿州',
                          '闽西': '龙岩',
                          '龙岩市': '龙岩',
                          '兰城': '保山',
                          '保山市': '保山',
                          '贵池': '池州',
                          '秋浦': '池州',
                          '池州市': '池州',
                          '铜仁市': '铜仁',
                          '铜仁地区': '铜仁',
                          '乌盟': '乌兰察布',
                          '乌兰察布市': '乌兰察布',
                          '延平': '南平',
                          '剑津': '南平',
                          '剑州': '南平',
                          '南平市': '南平',
                          '内江市': '内江',
                          '甜城': '内江',
                          '达州市': '达州',
                          '八步': '贺州',
                          '贺州市': '贺州',
                          '巴城': '巴中',
                          '巴中市': '巴中',
                          '荷城': '贵港',
                          '贵港市': '贵港',
                          '秋城': '昭通',
                          '昭通市': '昭通',
                          '五溪': '怀化',
                          '怀化市': '怀化',
                          '吴都': '鄂州',
                          '古武昌': '鄂州',
                          '鄂州市': '鄂州',
                          '依逊': '伊春',
                          '林都': '伊春',
                          '伊春市': '伊春',
                          '毕城': '毕节',
                          '毕节市': '毕节',
                          '毕节地区': '毕节',
                          '汽车城': '十堰',
                          '卡车之都': '十堰',
                          '东方底特律': '十堰',
                          '十堰市': '十堰',
                          '遂州': '遂宁',
                          '遂宁市': '遂宁',
                          '河上街': '漯河',
                          '隐阳城': '漯河',
                          '漯河市': '漯河',
                          '扶余': '松原',
                          '松原市': '松原',
                          '中国诗书城': '眉山',
                          '眉州': '眉山',
                          '眉山市': '眉山',
                          '鹤壁市': '鹤壁',
                          '秀容': '忻州',
                          '忻州市': '忻州',
                          '福城': '郴州',
                          '桂阳郡': '郴州',
                          '郴州市': '郴州',
                          '榆次': '晋中',
                          '晋中市': '晋中',
                          '银城': '益阳',
                          '丽都': '益阳',
                          '益阳市': '益阳',
                          '襄平': '辽阳',
                          '辽东城': '辽阳',
                          '辽阳市': '辽阳',
                          '宝鸡市': '宝鸡',
                          '陈仓': '宝鸡',
                          '西虢': '宝鸡',
                          '西岐': '宝鸡',
                          '西府': '宝鸡',
                          '酒泉市': '酒泉',
                          '甘州': '张掖',
                          '张掖市': '张掖',
                          '随州市': '随州',
                          '汉东之国': '随州',
                          '炎帝神农故里': '随州',
                          '编钟古乐之乡': '随州',
                          '热河': '承德',
                          '承德市': '承德',
                          '道都': '鹰潭',
                          '铜都': '鹰潭',
                          '鹰潭市': '鹰潭',
                          '新余市': '新余',
                          '太阳能之都': '新余',
                          '新能源之都': '新余',
                          '孝城': '孝感',
                          '孝感市': '孝感',
                          '枣庄市': '枣庄',
                          '龙都': '周口',
                          '周口市': '周口',
                          '帝丘': '濮阳',
                          '澶州': '濮阳',
                          '东郡': '濮阳',
                          '楚丘': '濮阳',
                          '濮阳市': '濮阳',
                          '莱芜市': '莱芜',
                          '阳泉市': '阳泉',
                          '中共第一城': '阳泉',
                          '漾泉': '阳泉',
                          '山城': '阳泉',
                          '河东': '运城',
                          '运城市': '运城',
                          '蚌埠市': '蚌埠',
                          '下邽': '渭南',
                          '莲勺': '渭南',
                          '东府': '渭南',
                          '秦东': '渭南',
                          '弘农': '渭南',
                          '渭南市': '渭南',
                          '涂中': '滁州',
                          '清流': '滁州',
                          '新昌': '滁州',
                          '永阳': '滁州',
                          '滁州市': '滁州',
                          '定陵': '铜陵',
                          '义安': '铜陵',
                          '铜陵市': '铜陵',
                          '嘉峪关市': '嘉峪关',
                          '漳州市': '漳州',
                          '水仙花之乡': '漳州',
                          '海滨邹鲁': '漳州',
                          '芗城': '漳州',
                          '陇东': '庆阳',
                          '庆阳市': '庆阳',
                          '海陆丰': '汕尾',
                          '红城': '汕尾',
                          '汕尾市': '汕尾',
                          '信州': '上饶',
                          '饶州': '上饶',
                          '饶城': '上饶',
                          '上饶市': '上饶',
                          '思茅市': '普洱',
                          '普洱市': '普洱',
                          '袁州': '宜春',
                          '宜春侯国': '宜春',
                          '宜春市': '宜春',
                          '旌城': '德阳',
                          '德阳市': '德阳',
                          '賨州': '广安',
                          '賨城': '广安',
                          '广安市': '广安',
                          '雨城': '雅安',
                          '雅安市': '雅安',
                          '零陵': '永州',
                          '潇湘': '永州',
                          '竹城': '永州',
                          '永州市': '永州',
                          '娄底市': '娄底',
                          '荆州市': '荆州',
                          '江陵城': '荆州',
                          '郢都': '荆州',
                          '桂花城': '咸宁',
                          '咸宁市': '咸宁',
                          '陕州': '三门峡',
                          '天鹅之城': '三门峡',
                          '上阳城': '三门峡',
                          '三门峡市': '三门峡',
                          '砀郡': '商丘',
                          '梁郡': '商丘',
                          '宋州': '商丘',
                          '睢阳郡': '商丘',
                          '商丘市': '商丘',
                          '应天府': '商丘',
                          '归德府': '商丘',
                          '上党': '长治',
                          '潞州': '长治',
                          '长治市': '长治',
                          '永宁州': '吕梁',
                          '石州': '吕梁',
                          '吕梁市': '吕梁',
                          '商洛市': '商洛',
                          '镍都': '金昌',
                          '金昌市': '金昌',
                          '陇南市': '陇南',
                          '陇上江南': '陇南',
                          '赣西明珠': '萍乡',
                          '萍乡市': '萍乡',
                          '才子之乡': '抚州',
                          '抚州市': '抚州',
                          '银南地区': '吴忠',
                          '吴忠市': '吴忠',
                          '哲里木盟（原名）': '通辽',
                          '白音泰赉（城区旧名）': '通辽',
                          '通辽市': '通辽',
                          '平城': '大同',
                          '大同市': '大同',
                          '泽州': '晋城',
                          '泽州府': '晋城',
                          '建州': '晋城',
                          '盖州': '晋城',
                          '晋城市': '晋城',
                          '建兴郡': '晋城',
                          '白水城': '阿克苏',
                          '阿克苏市': '阿克苏',
                          '阿克苏地区': '阿克苏',
                          '疏勒': '喀什',
                          '喀什噶尔': '喀什',
                          '喀什地区': '喀什',
                          '喀什市': '喀什',
                          '州府': '昌吉',
                          '昌吉回族自治州': '昌吉',
                          '昌吉市': '昌吉',
                          '楚雄彝族自治州': '楚雄',
                          '威楚': '楚雄',
                          '楚雄州': '楚雄',
                          '大兴安岭市': '大兴安岭',
                          '大兴安岭地区': '大兴安岭',
                          '火洲': '吐鲁番',
                          '吐鲁番市': '吐鲁番',
                          '哈密市': '哈密',
                          '哈密地区': '哈密',
                          '和阗': '和田',
                          '和田地区': '和田',
                          '和田市': '和田',
                          '塔尔巴哈台城': '塔城',
                          '塔城市': '塔城',
                          '塔城地区': '塔城',
                          '阿勒泰地区': '阿勒泰',
                          '阿勒泰市': '阿勒泰',
                          '博州': '博尔塔拉',
                          '博尔塔拉蒙古自治州': '博尔塔拉',
                          '博尔塔拉州': '博尔塔拉',
                          '巴音郭楞蒙古自治州': '巴音郭楞',
                          '巴音郭楞州': '巴音郭楞',
                          '巴音郭楞市': '巴音郭楞',
                          '克孜勒苏柯尔克孜自治州': '克孜勒苏',
                          '克州': '克孜勒苏',
                          '克孜勒苏州': '克孜勒苏',
                          '伊犁自治州': '伊犁',
                          '伊犁州': '伊犁',
                          '伊犁哈萨克自治州': '伊犁',
                          '红河哈尼族彝族自治州': '红河',
                          '红河州': '红河',
                          '昌都市': '昌都',
                          '日喀则市': '日喀则',
                          '溪卡孜': '日喀则',
                          '西藏自治区山南市': '山南',
                          '山南市': '山南',
                          '那曲县': '那曲',
                          '那曲市': '那曲',
                          '阿里地区': '阿里',
                          '中国西藏阿里地区': '阿里',
                          '工布': '林芝',
                          '林芝市': '林芝',
                          '锡盟': '锡林郭勒盟',
                          '中国马都': '锡林郭勒盟',
                          '锡林郭勒': '锡林郭勒盟',
                          '阿盟': '阿拉善盟',
                          '阿拉善盟市': '阿拉善盟',
                          '阿拉善': '阿拉善盟',
                          '临夏回族自治州': '临夏',
                          '河湟雄镇': '临夏',
                          '枹罕': '临夏',
                          '河州': '临夏',
                          '临夏州': '临夏',
                          '甘南藏族自治州': '甘南',
                          '甘南州': '甘南',
                          '中国金州': '黔西南',
                          '黔西南州': '黔西南',
                          '黔西南布依族苗族自治州': '黔西南',
                          '黔东南苗族侗族自治州': '黔东南',
                          '黔东南州': '黔东南',
                          '黔南布依族苗族自治州': '黔南',
                          '黔南州': '黔南',
                          '恩施州': '恩施',
                          '世界硒都': '恩施',
                          '施南府': '恩施',
                          '恩施土家族苗族自治州': '恩施',
                          '湘西州': '湘西',
                          '湘西自治州': '湘西',
                          '湘西土家族苗族自治州': '湘西',
                          '延边朝鲜族自治州': '延边',
                          '延边州': '延边',
                          '延边自治州': '延边',
                          '海北藏族自治州': '海北州',
                          '海北': '海北州',
                          '黄南藏族自治州': '黄南州',
                          '黄南': '黄南州',
                          '海南藏族自治州': '海南州',
                          '果洛藏族自治州': '果洛州',
                          '果洛': '果洛州',
                          '玉树藏族自治州': '玉树州',
                          '海西蒙古族藏族自治州': '海西州',
                          '海西自治州': '海西州',
                          '海西': '海西州',
                          '阿坝': '阿坝州',
                          '阿坝藏族羌族自治州': '阿坝州',
                          '甘孜藏族自治州': '甘孜州',
                          '凉山彝族自治州': '凉山州',
                          '凉山': '凉山州',
                          '文山壮族苗族自治州': '文山州',
                          '西双版纳傣族自治州': '西双版纳州',
                          '勐巴拉娜西': '西双版纳州',
                          '西双版纳': '西双版纳州',
                          '德宏傣族景颇族自治州': '德宏州',
                          '德宏': '德宏州',
                          '怒江傈僳族自治州': '怒江州',
                          '怒江': '怒江州',
                          '迪庆藏族自治州': '迪庆州',
                          '迪庆': '迪庆州',
                          '石河子市': '石河子',
                          '仙桃市': '仙桃',
                          '沔阳': '仙桃',
                          '复州': '仙桃',
                          '沔州': '仙桃',
                          '阿拉尔市': '阿拉尔',
                          '琼东': '琼海',
                          '琼海市': '琼海',
                          '图木舒克市': '图木舒克',
                          '五家渠市': '五家渠',
                          '西域水城': '五家渠',
                          '昌江黎族自治县': '昌江',
                          '昌江县': '昌江',
                          '至来': '昌江',
                          '昌化': '昌江',
                          '昌感': '昌江',
                          '济源市': '济源',
                          '石油城': '潜江',
                          '潜江市': '潜江',
                          '乐东黎族自治县': '乐东',
                          '乐安': '乐东',
                          '乐东县': '乐东',
                          '陵水黎族自治县': '陵水',
                          '陵水县': '陵水',
                          '宝停': '保亭',
                          '保亭县': '保亭',
                          '保亭黎族苗族自治县': '保亭',
                          '儋县': '儋州',
                          '儋州市': '儋州',
                          '竟陵': '天门',
                          '天门市': '天门',
                          '琼中黎族苗族自治县': '琼中',
                          '琼中县': '琼中',
                          '屯昌县': '屯昌',
                          '神农架林区': '神农架',
                          '澄迈县': '澄迈',
                          '苟中': '澄迈',
                          '通什': '五指山',
                          '五指山市': '五指山',
                          '富罗': '临高',
                          '临机': '临高',
                          '临高县': '临高',
                          '紫贝': '文昌',
                          '椰乡': '文昌',
                          '侨乡': '文昌',
                          '文昌市': '文昌',
                          '万州': '万宁',
                          '万安': '万宁',
                          '万宁市': '万宁',
                          '白沙黎族自治县': '白沙',
                          '薄沙': '白沙',
                          '白沙县': '白沙',
                          '八所': '东方',
                          '感恩': '东方',
                          '东方市': '东方',
                          '定安县': '定安',
                          '双河市': '双河',
                          '塔斯尔海': '双河',
                          '铁门关市': '铁门关',
                          '北屯市': '北屯',
                          '可克达拉市': '可克达拉',
                          '昆玉市': '昆玉',
                          '文昌': '文昌', '白山': '白山', '汕头': '汕头', '聊城': '聊城', '茂名': '茂名', '安庆': '安庆', '周口': '周口',
                           '澄迈': '澄迈', '大兴安岭': '大兴安岭', '日喀则': '日喀则', '丹东': '丹东', '牡丹江': '牡丹江', '济源': '济源', '乐山': '乐山',
                           '文山州': '文山州', '固原': '固原', '可克达拉': '可克达拉', '湘西': '湘西', '丽水': '丽水', '通辽': '通辽', '合肥': '合肥',
                           '鸡西': '鸡西', '新乡': '新乡', '南京': '南京', '林芝': '林芝', '泰州': '泰州', '雅安': '雅安', '益阳': '益阳',
                           '滁州': '滁州', '昌吉': '昌吉', '苏州': '苏州', '拉萨': '拉萨', '北京': '北京', '河源': '河源', '资阳': '资阳',
                           '泉州': '泉州', '乐东': '乐东', '玉溪': '玉溪', '岳阳': '岳阳', '临高': '临高', '濮阳': '濮阳', '昆玉': '昆玉',
                           '克孜勒苏': '克孜勒苏', '十堰': '十堰', '萍乡': '萍乡', '天水': '天水', '安阳': '安阳', '黔南': '黔南', '枣庄': '枣庄',
                           '惠州': '惠州', '许昌': '许昌', '呼伦贝尔': '呼伦贝尔', '龙岩': '龙岩', '四平': '四平', '石嘴山': '石嘴山', '三明': '三明',
                           '哈密': '哈密', '咸宁': '咸宁', '襄阳': '襄阳', '东莞': '东莞', '上海': '上海', '日照': '日照', '九江': '九江',
                           '来宾': '来宾', '厦门': '厦门', '宜昌': '宜昌', '无锡': '无锡', '邢台': '邢台', '昆明': '昆明', '宿州': '宿州',
                           '抚顺': '抚顺', '兰州': '兰州', '白沙': '白沙', '东营': '东营', '酒泉': '酒泉', '佛山': '佛山', '克拉玛依': '克拉玛依',
                           '福州': '福州', '赤峰': '赤峰', '朝阳': '朝阳', '锡林郭勒盟': '锡林郭勒盟', '昭通': '昭通', '天津': '天津', '贵阳': '贵阳',
                           '温州': '温州', '铜川': '铜川', '珠海': '珠海', '伊春': '伊春', '镇江': '镇江', '海西州': '海西州', '昌都': '昌都',
                           '贺州': '贺州', '湛江': '湛江', '临汾': '临汾', '宿迁': '宿迁', '保亭': '保亭', '内江': '内江', '吐鲁番': '吐鲁番',
                           '陇南': '陇南', '阿拉善盟': '阿拉善盟', '塔城': '塔城', '大同': '大同', '楚雄': '楚雄', '佳木斯': '佳木斯', '梅州': '梅州',
                           '烟台': '烟台', '庆阳': '庆阳', '天门': '天门', '鹰潭': '鹰潭', '淮南': '淮南', '深圳': '深圳', '六盘水': '六盘水',
                           '巴中': '巴中', '株洲': '株洲', '连云港': '连云港', '景德镇': '景德镇', '杭州': '杭州', '黔东南': '黔东南', '随州': '随州',
                           '红河': '红河', '乌鲁木齐': '乌鲁木齐', '淮安': '淮安', '白城': '白城', '黄南州': '黄南州', '宜春': '宜春', '双鸭山': '双鸭山',
                           '仙桃': '仙桃', '湖州': '湖州', '西宁': '西宁', '榆林': '榆林', '玉树州': '玉树州', '秦皇岛': '秦皇岛', '鹤岗': '鹤岗',
                           '喀什': '喀什', '晋城': '晋城', '南阳': '南阳', '鄂尔多斯': '鄂尔多斯', '朔州': '朔州', '金华': '金华', '邯郸': '邯郸',
                           '廊坊': '廊坊', '宁德': '宁德', '海口': '海口', '松原': '松原', '山南': '山南', '博尔塔拉': '博尔塔拉', '巴彦淖尔': '巴彦淖尔',
                           '丽江': '丽江', '荆门': '荆门', '阿克苏': '阿克苏', '舟山': '舟山', '怀化': '怀化', '屯昌': '屯昌', '广州': '广州',
                           '长春': '长春', '怒江州': '怒江州', '漳州': '漳州', '河池': '河池', '万宁': '万宁', '儋州': '儋州', '图木舒克': '图木舒克',
                           '池州': '池州', '阿勒泰': '阿勒泰', '铁岭': '铁岭', '扬州': '扬州', '达州': '达州', '肇庆': '肇庆', '宣城': '宣城',
                           '阿里': '阿里', '蚌埠': '蚌埠', '沧州': '沧州', '甘南': '甘南', '哈尔滨': '哈尔滨', '长沙': '长沙', '赣州': '赣州',
                           '商洛': '商洛', '张家口': '张家口', '漯河': '漯河', '五家渠': '五家渠', '乌海': '乌海', '迪庆州': '迪庆州', '巴音郭楞': '巴音郭楞',
                           '辽源': '辽源', '滨州': '滨州', '琼海': '琼海', '铁门关': '铁门关', '攀枝花': '攀枝花', '开封': '开封', '重庆': '重庆',
                           '防城港': '防城港', '甘孜州': '甘孜州', '延安': '延安', '绍兴': '绍兴', '晋中': '晋中', '湘潭': '湘潭', '宜宾': '宜宾',
                           '绵阳': '绵阳', '淮北': '淮北', '北海': '北海', '莱芜': '莱芜', '中山': '中山', '营口': '营口', '汉中': '汉中',
                           '昌江': '昌江', '遵义': '遵义', '咸阳': '咸阳', '神农架': '神农架', '鞍山': '鞍山', '双河': '双河', '清远': '清远',
                           '芜湖': '芜湖', '通化': '通化', '吉林': '吉林', '沈阳': '沈阳', '贵港': '贵港', '新余': '新余', '永州': '永州',
                           '德宏州': '德宏州', '三门峡': '三门峡', '潮州': '潮州', '黄山': '黄山', '海东': '海东', '韶关': '韶关', '南宁': '南宁',
                           '石家庄': '石家庄', '阿坝州': '阿坝州', '阳泉': '阳泉', '武威': '武威', '陵水': '陵水', '揭阳': '揭阳', '乌兰察布': '乌兰察布',
                           '太原': '太原', '平凉': '平凉', '玉林': '玉林', '衡水': '衡水', '钦州': '钦州', '海南州': '海南州', '张家界': '张家界',
                           '恩施': '恩施', '兴安盟': '兴安盟', '石河子': '石河子', '南平': '南平', '焦作': '焦作', '泰安': '泰安', '洛阳': '洛阳',
                           '郑州': '郑州', '鹤壁': '鹤壁', '西安': '西安', '上饶': '上饶', '江门': '江门', '眉山': '眉山', '临夏': '临夏',
                           '荆州': '荆州', '德州': '德州', '德阳': '德阳', '凉山州': '凉山州', '金昌': '金昌', '阿拉尔': '阿拉尔', '衢州': '衢州',
                           '邵阳': '邵阳', '武汉': '武汉', '五指山': '五指山', '南通': '南通', '定安': '定安', '孝感': '孝感', '渭南': '渭南',
                           '定西': '定西', '北屯': '北屯', '果洛州': '果洛州', '张掖': '张掖', '那曲': '那曲', '百色': '百色', '保山': '保山',
                           '六安': '六安', '南昌': '南昌', '铜仁': '铜仁', '桂林': '桂林', '黄冈': '黄冈', '临沧': '临沧', '盐城': '盐城',
                           '嘉兴': '嘉兴', '驻马店': '驻马店', '包头': '包头', '崇左': '崇左', '嘉峪关': '嘉峪关', '大理': '大理', '宁波': '宁波',
                           '威海': '威海', '盘锦': '盘锦', '大连': '大连', '齐齐哈尔': '齐齐哈尔', '普洱': '普洱', '三沙': '三沙', '阜新': '阜新',
                           '临沂': '临沂', '黔西南': '黔西南', '唐山': '唐山', '平顶山': '平顶山', '锦州': '锦州', '辽阳': '辽阳', '梧州': '梧州',
                           '三亚': '三亚', '银川': '银川', '郴州': '郴州', '长治': '长治', '伊犁': '伊犁', '葫芦岛': '葫芦岛', '信阳': '信阳',
                           '菏泽': '菏泽', '东方': '东方', '柳州': '柳州', '潍坊': '潍坊', '常德': '常德', '安康': '安康', '安顺': '安顺',
                           '亳州': '亳州', '海北州': '海北州', '娄底': '娄底', '阳江': '阳江', '西双版纳州': '西双版纳州', '黑河': '黑河', '忻州': '忻州',
                           '遂宁': '遂宁', '呼和浩特': '呼和浩特', '台州': '台州', '铜陵': '铜陵', '自贡': '自贡', '运城': '运城', '云浮': '云浮',
                           '本溪': '本溪', '汕尾': '汕尾', '南充': '南充', '青岛': '青岛', '吉安': '吉安', '济南': '济南', '鄂州': '鄂州',
                           '泸州': '泸州', '抚州': '抚州', '商丘': '商丘', '济宁': '济宁', '和田': '和田', '绥化': '绥化', '徐州': '徐州',
                           '中卫': '中卫', '常州': '常州', '莆田': '莆田', '七台河': '七台河', '吴忠': '吴忠', '大庆': '大庆', '宝鸡': '宝鸡',
                           '阜阳': '阜阳', '延边': '延边', '白银': '白银', '琼中': '琼中', '淄博': '淄博', '马鞍山': '马鞍山', '保定': '保定',
                           '吕梁': '吕梁', '黄石': '黄石', '潜江': '潜江', '广安': '广安', '毕节': '毕节', '广元': '广元', '衡阳': '衡阳',
                           '曲靖': '曲靖', '成都': '成都', '承德': '承德'}

    def standard_city(self, city_name):
        """

        :param city_name: 城市名称
        :return: 城市名称
        """
        if city_name is None:
            log.error("城市名为空!".format(city_name))
            return False, city_name

        if city_name in self.city_dict:
            return True, self.city_dict[city_name]
        else:
            log.error("城市无法标准化：{}".format(city_name))
            return False, city_name
        # city_name_in_fangjia_list = []
        #
        # for city_name_in_fangjia in self.city_coll.find():  # 数据库第一条数据字段为全国,此处选择跳过
        #     if city_name_in_fangjia.get('alias'):
        #         nick_name_list = city_name_in_fangjia['alias']
        #         nick_name_list.append(city_name_in_fangjia['display'])
        #     else:
        #         nick_name_list = [city_name_in_fangjia['display']]
        #     for nick_name in nick_name_list:
        #         if nick_name in city_name:
        #             city_name_in_fangjia_list.append(city_name_in_fangjia['display'])
        #
        # if len(city_name_in_fangjia_list):
        #     return True, max(city_name_in_fangjia_list, key=lambda x: len(x))
        # else:
        #     log.error("城市无法标准化：{}".format(city_name))
        #     return False, city_name

    def standard_region(self, city_name, region_name):
        """

        :param city_name: 城市名称
        :param region_name: 区域
        :return: 区域
        """
        if region_name is None:
            return False, region_name
        for region in self.region_coll.find({'category': 'region', 'city': city_name}):
            for pattern in region['pattern']:
                if pattern in region_name:
                    return True, region['name']
        log.error('无法格式化区域{}'.format(region_name))
        return False, region_name


if __name__ == '__main__':
    s = StandardCity()
    for i in range(100):
        c = time.time()
        r, region_name = s.standard_city('上海')
        # r, region_name = s.standard_region('上海', '长宁区')
        print(time.time() - c)
        print(r, region_name)
